<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style1.css">
    <link rel="icon" href="imgs/DJ.png" type="image/png">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <title>Contratacion</title>
</head>
<body>
    <div class="bg-custom-gradient">
    <!--Nav bar en este apartado se construye el menu responsive-->
    <nav class="navbar navbar-light navbar-expand-lg bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="imgs/DJ.png" alt="" width="50" class="d-inline-block align-text-top">
                </a>
                <a class="navbar-brand" href="#">
                 <img src="imgs/djLetrasSinFondo.png" alt="" width="120" class="d-inline-block align-text-top">
                 </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
               <a class="nav-link" aria-current="page" href="index.html">Inicio</a>
               <a class="nav-link" href="servicios.html">Servicios</a>
               <a class="nav-link" href="conocenos.html">Conocenos</a>
               <a class="nav-link" href="recintos.html">Recintos</a>
               <a class="nav-link" href="repertorio.html">Repertorio</a>
               <a class="nav-link" href="paquetes.html">Paquetes</a>
               <a class="nav-link" href="contratacion.html">Contratación</a>
               <a class="nav-link" href="loginAdmin.html"> Admin</a>
               <a class="nav-link" href="LoginCom.html"> Comprobante</a>
            </div>
          </div>
        </div>
    </nav>
    <!--Fin del navbar-->
    <br> <br>
    <!--Formulario-->
    <div class="container">
        <br><br><br>
        <form method="post" action="pdf_gen.php" style="background-color:white; border-style: solid;  border:8px; border-radius:10px; border-color:white !important; padding:10px;" id="registro">
            <div class="title">
                <h1>Formulario de reservación/contratación</h1>
            </div>
            <br>
            <fieldset>
                <legend>Contacto</legend>
                <div class="row">
                    <div class="col-md-4 ml-auto">
                        <label for="apPatD">Primer Apellido</label>
                        <input type="text" name="apPatD" class="form-control" id="apPat" required pattern="^((([A-ZÁÉÍÓÚÑ]{1})[a-záéíóúñ]+\s?){1,3})$">
                    </div>
                    <div class="col-md-4 ml-auto">
                        <label for="apMatD">Segundo Apellido</label>
                        <input type="text" name="apMatD" class="form-control" id="apMat" required pattern="^((([A-ZÁÉÍÓÚÑ]{1})[a-záéíóúñ]+\s?){1,3})$">
                    </div>
                    <div class="col-md-4 ml-auto">
                        <label for="nombreD">Nombre (s)</label>
                        <input type="text" name="nombreD" class="form-control" id="nombre" required pattern="^((([A-ZÁÉÍÓÚÑ]{1})[a-záéíóúñ]+\s?){1,3})$">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col">
                        <label for="curpN">RFC</label>
                        <input type="text" class="form-control" name="curpN" required pattern="^([A-Z]{4}[0-9]{6}[A-Z]{6}[A-Z0-9]{2})$">
                    </div>
                </div>
                <br>
                <h5>Domicilio Particular</h5>
                <div class="row">
                    <div class="col-md-6">
                        <label for="calle">Calle</label>
                        <input type="text" class="form-control" id="calle" name="calle" required>
                    </div>
                    <div class="col-md-3 ml-auto">
                        <label for="numExt">Numero Ext</label>
                        <input type="text" class="form-control" id="numExt" name="numExt" required pattern="^([0-9]{4})|([0-9]{3})|([0-9]{2})|([0-9]{1})$">
                    </div>
                    <div class="col-md-3 ml-auto">
                        <label for="numInt">Numero Int</label>
                        <input type="text" class="form-control" id="numInt" name="numInt" pattern="^([0-9]{4})|([0-9]{3})|([0-9]{2})|([0-9]{1})$">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-md-6 ml-auto">
                        <label for="colonia">Colonia</label>
                        <input type="text" class="form-control" id="colonia" name="colonia" required>
                    </div>
                    <div class="col-md-6 ml-auto">
                        <label for="alcaldia">Alcaldia o Municipio</label>
                        <input type="text" class="form-control" id="alcaldia" name="alcaldia" required>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-md-6 ml-auto">
                        <label for="entidadfed">Entidad Federativa</label>
                        <select class="form-select" aria-label="Default select example" id="entidadfed" name="entidadfed" required>
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option value="Aguascalientes">Aguascalientes</option>
                            <option value="Baja California Norte">Baja California</option>
                            <option value="Baja California Sur">Baja California Sur</option>
                            <option value="Campeche">Campeche</option>
                            <option value="Chiapas">Chiapas</option>
                            <option value="Chihuahua">Chihuahua</option>
                            <option value="Ciudad de Mexico">Ciudad de México</option>
                            <option value="Coahuila de Zaragoza">Coahuila de Zaragoza</option>
                            <option value="Colima">Colima</option>
                            <option value="Durango">Durango</option>
                            <option value="Guanajuato">Guanajuato</option>
                            <option value="Guerrero">Guerrero</option>
                            <option value="Hidalgo">Hidalgo</option>
                            <option value="Jalisco">Jalisco</option>
                            <option value="Estado de Mexico">Estado de México</option>
                            <option value="Michoacan">Michoacán</option>
                            <option value="Morelos">Morelos</option>
                            <option value="Nayarit">Nayarit</option>
                            <option value="Nuevo Leon">Nuevo León</option>
                            <option value="Oaxaca">Oaxaca</option>
                            <option value="Puebla">Puebla</option>
                            <option value="Queretaro">Querétaro</option>
                            <option value="Quintana Roo">Quintana Roo</option>
                            <option value="San Luis Potosi">San Luis Potosí</option>
                            <option value="Sinaloa">Sinaloa</option>
                            <option value="Sonora">Sonora</option>
                            <option value="Tabasco">Tabasco</option>
                            <option value="Tamaulipas">Tamaulipas</option>
                            <option value="Tlaxcala">Tlaxcala</option>
                            <option value="Veracruz">Veracruz</option>
                            <option value="Yucatan">Yucatán</option>
                            <option value="Zacatecas">Zacatecas</option>
                        </select>
                    </div>
 
                    <div class="col-md-6 ml-auto">
                        <label for="cp">C.P.</label>
                        <input type="text" class="form-control" id="cp" name="cp" required pattern="^[0-9]{5}$">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-md-4 ml-auto">
                        <label for="telfijo">Telefono fijo</label>
                        <input type="tel" class="form-control" id="telfijo" name="telfijo" pattern="^[0-9]{10}$">
                    </div>
                    <div class="col-md-4 ml-auto">
                        <label for="telcel">Tel. Celular</label>
                        <input type="tel" class="form-control" id="telcel" name="telcel" required pattern="^[0-9]{10}$">
                    </div>
                    <div class="col-md-4 ml-auto">
                        <label for="correo">Correo Electronico</label>
                        <input type="email" name="correo" class="form-control" required pattern="^([a-záéíóúñüA-ZÁÉÍÓÚÑÜ0-9.\-_/\\]+@\w+(\.\w+)+)$">
                    </div>
                </div>
                <br>
            </fieldset>
            <br>
            <div class="row">
                <div class="col-md-3 ml-auto">
                    <input class="btn btn-primary btn-lg " type="submit" value="Enviar" id="enviar">
                </div>
                <div class="col-md-3 ml-auto">
                    <button class="btn btn-secondary btn-lg " type="button" id="limpiar">Limpiar</button>
                </div>
            </div>      
        </form>
        <br><br><br><br>
    </div>
    <!--Fin formulario-->
   
    <script src="js/formcontrol.js"></script>
    <script>
        $(document).ready(function(){
            $("#Conyuge").hide();
            $("#extrasC").click(function(){
                if($(this).is(':checked')){
                    $("#Conyuge").show();
                } else {
                    $("#Conyuge").hide();
                }
            });
            $("#limpiar").click(function(){
                $("#registro select").each(function() { this.selectedIndex = 0 });
                $("#registro input[type=text] , #registro textarea").each(function() { this.value = '' });
                $("#registro input[type=tel] , #registro textarea").each(function() { this.value = '' });
                $("#registro input[type=date] , #registro textarea").each(function() { this.value = '' });
                $("#registro input[type=file] , #registro textarea").each(function() { this.value = '' });
                $("#registro input[type=email] , #registro textarea").each(function() { this.value = '' });
                $("#registro input[type=checkbox] , #registro textarea").each(function() { this.checked=false });
                $("#Conyuge").hide();
            });
            $("#registro").submit(function(e){
                e.preventDefault();
                if(confirm("El formulario está por enviarse, ¿Desea enviar el fomulario? o ¿Desea editarlo?")){
                    var data = $('#registro').serialize();
                    console.log(data);
                    $.ajax({
                        type:'post',
                        url:'savedata.php',
                        data:data,
                        success:function(r){
                            alert("Registro Exitoso");
                            $("#registro").unbind('submit').submit()
                            if(r==1){
                                alert("Registro Exitoso");
                                
                            }
                        }
                    }).fail(function(jqXHR,textStatus,errorThrown){
                         alert('Error!!');
                    });
                    $.redirect('pdf_gen.php', data);
                    $("#registro").unbind('submit').submit()
                }
                else{
                }
               
                $("#Conyuge").hide();
            });

            $("#fechnac").change(function(fecha){
                var hoy = new Date();
                var cumpleanos = new Date(fecha.target.value);
                var edad = hoy.getFullYear() - cumpleanos.getFullYear();
                var m = hoy.getMonth() - cumpleanos.getMonth();
                
                if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {
                    edad--;
                }
                document.getElementById("anos").value = edad

                if (m < 0) {
                    m += 12;
                }
                document.getElementById("meses").value = m
                if(edad == 0){
                    document.getElementById("grupo").value = "LacIyII"
                }else if(edad==1){
                    document.getElementById("grupo").value = "Lactante III - Maternal I"
                }else if(edad==2 && m<=6){
                    document.getElementById("grupo").value = "Maternal IIA "
                }else if(edad==2 && m>6){
                    document.getElementById("grupo").value = "Maternal IIB"
                }else if(edad==3){
                    document.getElementById("grupo").value = "Preescolar IA y Preescolar IB"
                }else if(edad==4){
                    document.getElementById("grupo").value = "Preescolar IIA y Preescolar IIB"
                }else if(edad==5){
                    document.getElementById("grupo").value = "Preescolar IIIA y Preescolar IIIB"
                }
            });


           
        });
    </script>
    
</body>
</html>
</div>
</body>
</html>